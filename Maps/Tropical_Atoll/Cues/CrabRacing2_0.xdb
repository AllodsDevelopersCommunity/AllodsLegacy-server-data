<?xml version="1.0" encoding="UTF-8" ?>
<gameMechanics.world.mob.interaction.Cue>
	<Header>
		<resourceId>256187397</resourceId>
	</Header>
	<name href="CrabRacing2_0.name.txt" />
	<text href="CrabRacing2_0_Text.txt" />
	<conditions>
		<Item type="gameMechanics.elements.resources.ResourceAnyBuff">
			<buffs>
				<Item href="/Maps/Tropical_Atoll/Scripts/CrabRacing01.xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
				<Item href="/Maps/Tropical_Atoll/Scripts/CrabRacing02.xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
				<Item href="/Maps/Tropical_Atoll/Scripts/CrabRacing03.xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
				<Item href="/Maps/Tropical_Atoll/Scripts/CrabRacing04.xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
				<Item href="/Maps/Tropical_Atoll/Scripts/CrabRacing05.xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
				<Item href="/Maps/Tropical_Atoll/Scripts/CrabRacing06.xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
			</buffs>
		</Item>
		<Item type="gameMechanics.constructor.basicElements.PredicateNot">
			<predicate type="gameMechanics.map.variables.PredicateMapVariableEquals">
				<variableResource href="/Maps/Tropical_Atoll/Scripts/CrabRacing_MapVarFinish.xdb#xpointer(/gameMechanics.map.variables.MapVariableResource)" />
				<expectedValue type="gameMechanics.elements.calcers.FloatData">
					<value>0</value>
				</expectedValue>
				<threshold>0</threshold>
			</predicate>
		</Item>
		<Item type="gameMechanics.constructor.basicElements.PredicateNot">
			<predicate type="gameMechanics.elements.predicates.PredicateIsRuleActive">
				<rule href="/Mechanics/Rules/SummerEvent/CrabRacingForCues.(RuleResource).xdb#xpointer(/gameMechanics.world.rules.RuleResource)" />
			</predicate>
		</Item>
	</conditions>
	<additionalConditions>
		<Item type="gameMechanics.elements.predicates.PredicateCanTakePack">
			<toAdd>
				<Item>
					<item href="/Items/QuestItems/Tropical_Atoll/Gift/Gift3.(ItemResource).xdb#xpointer(/gameMechanics.constructor.schemes.item.ItemResource)" />
					<stackCount>6</stackCount>
				</Item>
			</toAdd>
		</Item>
	</additionalConditions>
	<impacts>
		<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
			<predicates>
				<Item type="gameMechanics.elements.resources.ResourceBuff">
					<buff href="/Maps/Tropical_Atoll/Scripts/CrabRacing01.xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
				</Item>
			</predicates>
			<impacts>
				<Item type="gameMechanics.constructor.basicElements.ImpactList">
					<impactsResource href="PrototypeImpact1_CrabRacing2_0.xdb#xpointer(/gameMechanics.constructor.newBasicElements.ImpactListGenericResource)" />
				</Item>
			</impacts>
			<elseImpacts>
				<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
					<predicates>
						<Item type="gameMechanics.elements.resources.ResourceBuff">
							<buff href="/Maps/Tropical_Atoll/Scripts/CrabRacing02.xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
						</Item>
					</predicates>
					<impacts>
						<Item type="gameMechanics.constructor.basicElements.ImpactList">
							<impactsResource href="PrototypeImpact2_CrabRacing2_0.xdb#xpointer(/gameMechanics.constructor.newBasicElements.ImpactListGenericResource)" />
						</Item>
					</impacts>
					<elseImpacts>
						<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
							<predicates>
								<Item type="gameMechanics.elements.resources.ResourceBuff">
									<buff href="/Maps/Tropical_Atoll/Scripts/CrabRacing03.xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
								</Item>
							</predicates>
							<impacts>
								<Item type="gameMechanics.constructor.basicElements.ImpactList">
									<impactsResource href="PrototypeImpact3_CrabRacing2_0.xdb#xpointer(/gameMechanics.constructor.newBasicElements.ImpactListGenericResource)" />
								</Item>
							</impacts>
							<elseImpacts>
								<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
									<predicates>
										<Item type="gameMechanics.elements.resources.ResourceBuff">
											<buff href="/Maps/Tropical_Atoll/Scripts/CrabRacing04.xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
										</Item>
									</predicates>
									<impacts>
										<Item type="gameMechanics.constructor.basicElements.ImpactList">
											<impactsResource href="PrototypeImpact4_CrabRacing2_0.xdb#xpointer(/gameMechanics.constructor.newBasicElements.ImpactListGenericResource)" />
										</Item>
									</impacts>
									<elseImpacts>
										<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
											<predicates>
												<Item type="gameMechanics.elements.resources.ResourceBuff">
													<buff href="/Maps/Tropical_Atoll/Scripts/CrabRacing05.xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
												</Item>
											</predicates>
											<impacts>
												<Item type="gameMechanics.constructor.basicElements.ImpactList">
													<impactsResource href="PrototypeImpact5_CrabRacing2_0.xdb#xpointer(/gameMechanics.constructor.newBasicElements.ImpactListGenericResource)" />
												</Item>
											</impacts>
											<elseImpacts>
												<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
													<predicates>
														<Item type="gameMechanics.elements.resources.ResourceBuff">
															<buff href="/Maps/Tropical_Atoll/Scripts/CrabRacing06.xdb#xpointer(/gameMechanics.constructor.schemes.buff.BuffResource)" />
														</Item>
													</predicates>
													<impacts>
														<Item type="gameMechanics.constructor.basicElements.ImpactList">
															<impactsResource href="PrototypeImpact6_CrabRacing2_0.xdb#xpointer(/gameMechanics.constructor.newBasicElements.ImpactListGenericResource)" />
														</Item>
													</impacts>
												</Item>
											</elseImpacts>
										</Item>
									</elseImpacts>
								</Item>
							</elseImpacts>
						</Item>
					</elseImpacts>
				</Item>
			</elseImpacts>
		</Item>
		<Item type="gameMechanics.elements.impacts.ImpactRemoveAllBuffsFromGroup">
			<group href="/Mechanics/Spells/Groups/SummerEvent_CrabRacing.xdb#xpointer(/gameMechanics.constructor.basicInterfaces.ActionGroup)" />
			<checkCaster>true</checkCaster>
		</Item>
	</impacts>
</gameMechanics.world.mob.interaction.Cue>
