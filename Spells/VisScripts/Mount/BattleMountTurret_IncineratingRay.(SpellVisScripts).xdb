<?xml version="1.0" encoding="UTF-8" ?>
<SpellVisScripts>
	<precastType>PRECAST_LAUNCH</precastType>
	<launch type="VisActionList">
		<elements>
			<Item type="CreatureSetFlagAction">
				<flagName>Flag_MountNeeded</flagName>
				<timeOut>0.5</timeOut>
			</Item>
			<Item type="VisActionList">
				<playWhile type="PredicateCreatureFlagAction">
					<flagName>Flag_Emote</flagName>
				</playWhile>
				<elements>
					<Item type="VisActionDelay">
						<time>500</time>
					</Item>
				</elements>
			</Item>
			<Item type="VisActionList">
				<play>Simultaneously</play>
				<elements>
					<Item type="VisActionList">
						<elements>
							<Item type="CreatureAnimationAction">
								<animations>
									<Item>attack</Item>
								</animations>
								<advanced>
									<backgroundAfterFirstKey>true</backgroundAfterFirstKey>
									<eventPlaybackEnd>true</eventPlaybackEnd>
									<waitRealEvent>WAIT_FROMFIRSTKEY</waitRealEvent>
								</advanced>
							</Item>
							<Item type="VisActionList">
								<play>Simultaneously</play>
								<playWhile type="VisActionDelay">
									<time>2000</time>
								</playWhile>
								<elements>
									<Item type="CreatureEffectsAction">
										<visualEffects>
											<Item>
												<effectFx href="/Spells/FX/Spells/HitFire.(VisObjectTemplate).xdb#xpointer(/VisObjectTemplate)" />
												<locator>FROM_LOCATOR_NAME</locator>
												<member>Mount</member>
												<locatorName>Slot_Special01</locatorName>
												<offendTime type="EffectOffendConstDelay" />
											</Item>
											<Item>
												<effectFx href="/Spells/FX/Mobs/Turret04_Dust.(VisObjectTemplate).xdb#xpointer(/VisObjectTemplate)" />
												<fixPoint>true</fixPoint>
												<scale>1.4</scale>
												<locator>Slot_Global</locator>
											</Item>
										</visualEffects>
									</Item>
									<Item type="CreatureChannelDirectAction">
										<channelingFx href="/Spells/FX/Mobs/MountTurret_FireChannel.(VisObjectTemplate).xdb#xpointer(/VisObjectTemplate)" />
										<fxLength>20</fxLength>
										<startPoint type="VisPointLocator">
											<locator>FROM_LOCATOR_NAME</locator>
											<member>Mount</member>
											<locatorName>Slot_Special01</locatorName>
										</startPoint>
										<endPoint type="VisPointLocator">
											<locator>Slot_FX</locator>
											<member>Assaulter</member>
										</endPoint>
										<multyTargetMode>Umbrella</multyTargetMode>
										<secondaryTargetParams>
											<fxLength>20</fxLength>
											<offendTime type="EffectOffendConstDelay" />
										</secondaryTargetParams>
									</Item>
									<Item type="CreatureFixedTimeProjectileAction">
										<projectileFx href="/Spells/FX/Spells/MageFireArrowAbility.(VisObjectTemplate).xdb#xpointer(/VisObjectTemplate)" />
										<explosionFx href="/Spells/FX/Spells/HitFireball.(VisObjectTemplate).xdb#xpointer(/VisObjectTemplate)" />
										<pointOnTarget type="VisPointLocator" />
										<waitDuration>0</waitDuration>
										<throwDuration>0</throwDuration>
									</Item>
								</elements>
							</Item>
						</elements>
					</Item>
					<Item type="Sound3DAction">
						<sound>
							<project href="/SFX/Spells/Sounds.(FMODProject).xdb#xpointer(/FMODProject)" />
							<name>spells/Mount/Mount_Turret/MountTurret_Attack</name>
						</sound>
					</Item>
				</elements>
			</Item>
		</elements>
	</launch>
	<playOnTargets>
		<specialAction type="CreatureEffectsAction">
			<visualEffects>
				<Item>
					<effectFx href="/Spells/FX/Spells/HitFire.(VisObjectTemplate).xdb#xpointer(/VisObjectTemplate)" />
					<fixPoint>true</fixPoint>
					<lockScale>true</lockScale>
					<locator>Slot_BodyFX</locator>
					<member>Assaulter</member>
				</Item>
			</visualEffects>
		</specialAction>
	</playOnTargets>
</SpellVisScripts>
